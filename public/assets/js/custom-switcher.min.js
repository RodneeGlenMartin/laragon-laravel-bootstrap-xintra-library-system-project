"use strict";

let mainContent;
(function () {
    let html = document.querySelector('html');
    mainContent = document.querySelector('.main-content');
    localStorageBackup2();
    switcherClick();
    checkOptions();
    setTimeout(() => {
        checkOptions();
    }, 1000);
    /* LTR to RTL */
    // html.setAttribute("dir" , "rtl") // for rtl version

})();

function switcherClick() {
    let ltrBtn, rtlBtn, verticalBtn, horiBtn, lightBtn, darkBtn, boxedBtn, fullwidthBtn, scrollHeaderBtn, scrollMenuBtn, fixedHeaderBtn, fixedMenuBtn, lightHeaderBtn, darkHeaderBtn, colorHeaderBtn, gradientHeaderBtn, lightMenuBtn, darkMenuBtn, colorMenuBtn, gradientMenuBtn, transparentMenuBtn, transparentHeaderBtn, regular, classic, modern, defaultBtn, closedBtn, iconTextBtn, detachedBtn, overlayBtn, doubleBtn, menuClickBtn, menuHoverBtn, iconClickBtn, iconHoverBtn, primaryDefaultColor1Btn, primaryDefaultColor2Btn, primaryDefaultColor3Btn, primaryDefaultColor4Btn, primaryDefaultColor5Btn, bgDefaultColor1Btn, bgDefaultColor2Btn, bgDefaultColor3Btn, bgDefaultColor4Btn, bgDefaultColor5Btn, bgImage1Btn, bgImage2Btn, bgImage3Btn, bgImage4Btn, bgImage5Btn, ResetAll, resetBtn, loaderEnable, loaderDisable;
    let html = document.querySelector('html');
    lightBtn = document.querySelector('#switcher-light-theme');
    darkBtn = document.querySelector('#switcher-dark-theme');
    ltrBtn = document.querySelector('#switcher-ltr');
    rtlBtn = document.querySelector('#switcher-rtl');
    verticalBtn = document.querySelector('#switcher-vertical');
    horiBtn = document.querySelector('#switcher-horizontal');
    boxedBtn = document.querySelector('#switcher-boxed');
    fullwidthBtn = document.querySelector('#switcher-full-width');
    fixedMenuBtn = document.querySelector('#switcher-menu-fixed');
    scrollMenuBtn = document.querySelector('#switcher-menu-scroll');
    fixedHeaderBtn = document.querySelector('#switcher-header-fixed');
    scrollHeaderBtn = document.querySelector('#switcher-header-scroll');
    lightHeaderBtn = document.querySelector('#switcher-header-light');
    darkHeaderBtn = document.querySelector('#switcher-header-dark');
    colorHeaderBtn = document.querySelector('#switcher-header-primary');
    gradientHeaderBtn = document.querySelector('#switcher-header-gradient');
    transparentHeaderBtn = document.querySelector('#switcher-header-transparent');
    lightMenuBtn = document.querySelector('#switcher-menu-light');
    darkMenuBtn = document.querySelector('#switcher-menu-dark');
    colorMenuBtn = document.querySelector('#switcher-menu-primary');
    gradientMenuBtn = document.querySelector('#switcher-menu-gradient');
    transparentMenuBtn = document.querySelector('#switcher-menu-transparent');
    regular = document.querySelector('#switcher-regular');
    classic = document.querySelector('#switcher-classic');
    modern = document.querySelector('#switcher-modern');
    defaultBtn = document.querySelector('#switcher-default-menu');
    menuClickBtn = document.querySelector('#switcher-menu-click');
    menuHoverBtn = document.querySelector('#switcher-menu-hover');
    iconClickBtn = document.querySelector('#switcher-icon-click');
    iconHoverBtn = document.querySelector('#switcher-icon-hover');
    closedBtn = document.querySelector('#switcher-closed-menu');
    iconTextBtn = document.querySelector('#switcher-icontext-menu');
    overlayBtn = document.querySelector('#switcher-icon-overlay');
    doubleBtn = document.querySelector('#switcher-double-menu');
    detachedBtn = document.querySelector('#switcher-detached');
    resetBtn = document.querySelector('#resetbtn');
    primaryDefaultColor1Btn = document.querySelector('#switcher-primary');
    primaryDefaultColor2Btn = document.querySelector('#switcher-primary1');
    primaryDefaultColor3Btn = document.querySelector('#switcher-primary2');
    primaryDefaultColor4Btn = document.querySelector('#switcher-primary3');
    primaryDefaultColor5Btn = document.querySelector('#switcher-primary4');
    bgDefaultColor1Btn = document.querySelector('#switcher-background');
    bgDefaultColor2Btn = document.querySelector('#switcher-background1');
    bgDefaultColor3Btn = document.querySelector('#switcher-background2');
    bgDefaultColor4Btn = document.querySelector('#switcher-background3');
    bgDefaultColor5Btn = document.querySelector('#switcher-background4');
    bgImage1Btn = document.querySelector('#switcher-bg-img');
    bgImage2Btn = document.querySelector('#switcher-bg-img1');
    bgImage3Btn = document.querySelector('#switcher-bg-img2');
    bgImage4Btn = document.querySelector('#switcher-bg-img3');
    bgImage5Btn = document.querySelector('#switcher-bg-img4');
    ResetAll = document.querySelector('#reset-all');
    loaderEnable = document.querySelector('#switcher-loader-enable');
    loaderDisable = document.querySelector('#switcher-loader-disable');

    // primary theme
    if (primaryDefaultColor1Btn) {
        primaryDefaultColor1Btn.addEventListener('click', () => {
            localStorage.setItem("primaryRGB", "118, 71, 229");
            html.style.setProperty('--primary-rgb', `118, 71, 229`);
        });
    }
    if (primaryDefaultColor2Btn) {
        primaryDefaultColor2Btn.addEventListener('click', () => {
            localStorage.setItem("primaryRGB", "63, 75, 236");
            html.style.setProperty('--primary-rgb', `63, 75, 236`);
        });
    }
    if (primaryDefaultColor3Btn) {
        primaryDefaultColor3Btn.addEventListener('click', () => {
            localStorage.setItem("primaryRGB", "55, 125, 206");
            html.style.setProperty('--primary-rgb', `55, 125, 206`);
        });
    }
    if (primaryDefaultColor4Btn) {
        primaryDefaultColor4Btn.addEventListener('click', () => {
            localStorage.setItem("primaryRGB", "1, 159, 162");
            html.style.setProperty('--primary-rgb', `1, 159, 162`);
        });
    }
    if (primaryDefaultColor5Btn) {
        primaryDefaultColor5Btn.addEventListener('click', () => {
            localStorage.setItem("primaryRGB", "139, 149, 4");
            html.style.setProperty('--primary-rgb', `139, 149, 4`);
        });
    }

    // Background theme
    if (bgDefaultColor1Btn) {
        bgDefaultColor1Btn.addEventListener('click', () => {
            localStorage.setItem('bodyBgRGB', "12, 23, 91");
            localStorage.setItem('bodylightRGB', "17, 31, 96");
            html.setAttribute('data-theme-mode', 'dark');
            html.setAttribute('data-menu-styles', 'dark');
            html.setAttribute('data-header-styles', 'dark');
            document.querySelector('html').style.setProperty('--body-bg-rgb', localStorage.bodyBgRGB);
            document.querySelector('html').style.setProperty('--body-bg-rgb2', localStorage.bodylightRGB);
            document.querySelector('html').style.setProperty('--light-rgb', "17, 31, 96");
            document.querySelector('html').style.setProperty('--form-control-bg', "rgb(17, 31, 96)");
            document.querySelector('html').style.setProperty('--input-border', "rgba(255,255,255,0.1)");
            document.querySelector('html').style.setProperty('--gray-3', "rgba(255,255,255,0.1)");
            let el1 = document.querySelector('#switcher-dark-theme'); if (el1) el1.checked = true;
            let el2 = document.querySelector('#switcher-menu-dark'); if (el2) el2.checked = true;
            let el3 = document.querySelector('#switcher-header-dark'); if (el3) el3.checked = true;
            localStorage.setItem("xintraMenu", "dark");
            localStorage.setItem("xintraHeader", "dark");
        });
    }
    if (bgDefaultColor2Btn) {
        bgDefaultColor2Btn.addEventListener('click', () => {
            localStorage.setItem('bodyBgRGB', "50, 11, 110");
            localStorage.setItem('bodylightRGB', "57, 16, 120");
            html.setAttribute('data-theme-mode', 'dark');
            html.setAttribute('data-menu-styles', 'dark');
            html.setAttribute('data-header-styles', 'dark');
            document.querySelector('html').style.setProperty('--body-bg-rgb', localStorage.bodyBgRGB);
            document.querySelector('html').style.setProperty('--body-bg-rgb2', localStorage.bodylightRGB);
            document.querySelector('html').style.setProperty('--light-rgb', "57, 16, 120");
            document.querySelector('html').style.setProperty('--form-control-bg', "rgb(57, 16, 120)");
            document.querySelector('html').style.setProperty('--input-border', "rgba(255,255,255,0.1)");
            document.querySelector('html').style.setProperty('--gray-3', "rgba(255,255,255,0.1)");
            let el1 = document.querySelector('#switcher-dark-theme'); if (el1) el1.checked = true;
            let el2 = document.querySelector('#switcher-menu-dark'); if (el2) el2.checked = true;
            let el3 = document.querySelector('#switcher-header-dark'); if (el3) el3.checked = true;
            localStorage.setItem("xintraMenu", "dark");
            localStorage.setItem("xintraHeader", "dark");
        });
    }
    if (bgDefaultColor3Btn) {
        bgDefaultColor3Btn.addEventListener('click', () => {
            localStorage.setItem('bodyBgRGB', "8, 81, 113");
            localStorage.setItem('bodylightRGB', "27, 101, 133");
            html.setAttribute('data-theme-mode', 'dark');
            html.setAttribute('data-menu-styles', 'dark');
            html.setAttribute('data-header-styles', 'dark');
            document.querySelector('html').style.setProperty('--body-bg-rgb', localStorage.bodyBgRGB);
            document.querySelector('html').style.setProperty('--body-bg-rgb2', localStorage.bodylightRGB);
            document.querySelector('html').style.setProperty('--light-rgb', "27, 101, 133");
            document.querySelector('html').style.setProperty('--form-control-bg', "rgb(27, 101, 133)");
            document.querySelector('html').style.setProperty('--input-border', "rgba(255,255,255,0.1)");
            document.querySelector('html').style.setProperty('--gray-3', "rgba(255,255,255,0.1)");
            let el1 = document.querySelector('#switcher-dark-theme'); if (el1) el1.checked = true;
            let el2 = document.querySelector('#switcher-menu-dark'); if (el2) el2.checked = true;
            let el3 = document.querySelector('#switcher-header-dark'); if (el3) el3.checked = true;
            localStorage.setItem("xintraMenu", "dark");
            localStorage.setItem("xintraHeader", "dark");
        });
    }
    if (bgDefaultColor4Btn) {
        bgDefaultColor4Btn.addEventListener('click', () => {
            localStorage.setItem('bodyBgRGB', "3, 81, 60");
            localStorage.setItem('bodylightRGB', "8, 99, 75");
            html.setAttribute('data-theme-mode', 'dark');
            html.setAttribute('data-menu-styles', 'dark');
            html.setAttribute('data-header-styles', 'dark');
            document.querySelector('html').style.setProperty('--body-bg-rgb', localStorage.bodyBgRGB);
            document.querySelector('html').style.setProperty('--body-bg-rgb2', localStorage.bodylightRGB);
            document.querySelector('html').style.setProperty('--light-rgb', "8, 99, 75");
            document.querySelector('html').style.setProperty('--form-control-bg', "rgb(8, 99, 75)");
            document.querySelector('html').style.setProperty('--input-border', "rgba(255,255,255,0.1)");
            document.querySelector('html').style.setProperty('--gray-3', "rgba(255,255,255,0.1)");
            let el1 = document.querySelector('#switcher-dark-theme'); if (el1) el1.checked = true;
            let el2 = document.querySelector('#switcher-menu-dark'); if (el2) el2.checked = true;
            let el3 = document.querySelector('#switcher-header-dark'); if (el3) el3.checked = true;
            localStorage.setItem("xintraMenu", "dark");
            localStorage.setItem("xintraHeader", "dark");
        });
    }
    if (bgDefaultColor5Btn) {
        bgDefaultColor5Btn.addEventListener('click', () => {
            localStorage.setItem('bodyBgRGB', "73, 78, 1");
            localStorage.setItem('bodylightRGB', "84, 89, 4");
            html.setAttribute('data-theme-mode', 'dark');
            html.setAttribute('data-menu-styles', 'dark');
            html.setAttribute('data-header-styles', 'dark');
            document.querySelector('html').style.setProperty('--body-bg-rgb', localStorage.bodyBgRGB);
            document.querySelector('html').style.setProperty('--body-bg-rgb2', localStorage.bodylightRGB);
            document.querySelector('html').style.setProperty('--light-rgb', "84, 89, 4");
            document.querySelector('html').style.setProperty('--form-control-bg', "rgb(84, 89, 4)");
            document.querySelector('html').style.setProperty('--input-border', "rgba(255,255,255,0.1)");
            document.querySelector('html').style.setProperty('--gray-3', "rgba(255,255,255,0.1)");
            let el1 = document.querySelector('#switcher-dark-theme'); if (el1) el1.checked = true;
            let el2 = document.querySelector('#switcher-menu-dark'); if (el2) el2.checked = true;
            let el3 = document.querySelector('#switcher-header-dark'); if (el3) el3.checked = true;
            localStorage.setItem("xintraMenu", "dark");
            localStorage.setItem("xintraHeader", "dark");
        });
    }

    // Bg image
    if (bgImage1Btn) {
        bgImage1Btn.addEventListener('click', () => {
            html.setAttribute('data-bg-img', 'bgimg1')
            localStorage.setItem("bgimg", "bgimg1")
        });
    }
    if (bgImage2Btn) {
        bgImage2Btn.addEventListener('click', () => {
            html.setAttribute('data-bg-img', 'bgimg2')
            localStorage.setItem("bgimg", "bgimg2")
        });
    }
    if (bgImage3Btn) {
        bgImage3Btn.addEventListener('click', () => {
            html.setAttribute('data-bg-img', 'bgimg3')
            localStorage.setItem("bgimg", "bgimg3")
        });
    }
    if (bgImage4Btn) {
        bgImage4Btn.addEventListener('click', () => {
            html.setAttribute('data-bg-img', 'bgimg4')
            localStorage.setItem("bgimg", "bgimg4")
        });
    }
    if (bgImage5Btn) {
        bgImage5Btn.addEventListener('click', () => {
            html.setAttribute('data-bg-img', 'bgimg5')
            localStorage.setItem("bgimg", "bgimg5")
        });
    }

    /* Light Layout Start */
    if (lightBtn) {
        lightBtn.addEventListener('click', () => {
            lightFn();
            localStorage.setItem("xintraHeader", 'light');
            localStorage.removeItem("bodylightRGB")
            localStorage.removeItem("bodyBgRGB")
            localStorage.removeItem("xintraMenu")
            if (html.getAttribute('data-nav-layout') === 'horizontal') {
                html.setAttribute('data-header-styles', 'light');
            }
        });
    }
    /* Light Layout End */

    /* Dark Layout Start */
    if (darkBtn) {
        darkBtn.addEventListener('click', () => {
            darkFn();
            localStorage.setItem("xintraMenu", 'dark');
            localStorage.setItem("xintraHeader", 'transparent');
            if (html.getAttribute('data-nav-layout') === 'horizontal') {
                html.setAttribute('data-header-styles', 'dark');
            }
        });
    }
    /* Dark Layout End */

    /* Light Menu Start */
    if (lightMenuBtn) {
        lightMenuBtn.addEventListener('click', () => {
            html.setAttribute('data-menu-styles', 'light');
            localStorage.setItem("xintraMenu", 'light');
        });
    }
    /* Light Menu End */

    /* Color Menu Start */
    if (colorMenuBtn) {
        colorMenuBtn.addEventListener('click', () => {
            html.setAttribute('data-menu-styles', 'color');
            localStorage.setItem("xintraMenu", 'color');
        });
    }
    /* Color Menu End */

    /* Dark Menu Start */
    if (darkMenuBtn) {
        darkMenuBtn.addEventListener('click', () => {
            html.setAttribute('data-menu-styles', 'dark');
            localStorage.setItem("xintraMenu", 'dark');
        });
    }
    /* Dark Menu End */

    /* Gradient Menu Start */
    if (gradientMenuBtn) {
        gradientMenuBtn.addEventListener('click', () => {
            html.setAttribute('data-menu-styles', 'gradient');
            localStorage.setItem("xintraMenu", 'gradient');
        });
    }
    /* Gradient Menu End */

    /* Transparent Menu Start */
    if (transparentMenuBtn) {
        transparentMenuBtn.addEventListener('click', () => {
            html.setAttribute('data-menu-styles', 'transparent');
            localStorage.setItem("xintraMenu", 'transparent');
        });
    }
    /* Transparent Menu End */

    /* Light Header Start */
    if (lightHeaderBtn) {
        lightHeaderBtn.addEventListener('click', () => {
            html.setAttribute('data-header-styles', 'light');
            localStorage.setItem("xintraHeader", 'light');
        });
    }
    /* Light Header End */

    /* Color Header Start */
    if (colorHeaderBtn) {
        colorHeaderBtn.addEventListener('click', () => {
            html.setAttribute('data-header-styles', 'color');
            localStorage.setItem("xintraHeader", 'color');
        });
    }
    /* Color Header End */

    /* Dark Header Start */
    if (darkHeaderBtn) {
        darkHeaderBtn.addEventListener('click', () => {
            html.setAttribute('data-header-styles', 'dark');
            localStorage.setItem("xintraHeader", 'dark');
        });
    }
    /* Dark Header End */

    /* Gradient Header Start */
    if (gradientHeaderBtn) {
        gradientHeaderBtn.addEventListener('click', () => {
            html.setAttribute('data-header-styles', 'gradient');
            localStorage.setItem("xintraHeader", 'gradient');
        });
    }
    /* Gradient Header End */

    /* Transparent Header Start */
    if (transparentHeaderBtn) {
        transparentHeaderBtn.addEventListener('click', () => {
            html.setAttribute('data-header-styles', 'transparent');
            localStorage.setItem("xintraHeader", 'transparent');
        });
    }
    /* Transparent Header End */

    /* Full Width Layout Start */
    if (fullwidthBtn) {
        fullwidthBtn.addEventListener('click', () => {
            html.setAttribute('data-width', 'fullwidth');
            localStorage.setItem("xintrafullwidth", true);
            localStorage.removeItem("xintraboxed");
        });
    }
    /* Full Width Layout End */

    /* Boxed Layout Start */
    if (boxedBtn) {
        boxedBtn.addEventListener('click', () => {
            html.setAttribute('data-width', 'boxed');
            localStorage.setItem("xintraboxed", true);
            localStorage.removeItem("xintrafullwidth");
            checkHoriMenu()
        });
    }
    /* Boxed Layout End */

    /* Regular page style Start */
    if (regular) {
        regular.addEventListener('click', () => {
            html.setAttribute('data-page-style', 'regular');
            localStorage.setItem("xintraregular", true);
            localStorage.removeItem("xintraclassic");
            localStorage.removeItem("xintramodern");
        });
    }
    /* Regular page style End */

    /* Classic page style Start */
    if (classic) {
        classic.addEventListener('click', () => {
            html.setAttribute('data-page-style', 'classic');
            localStorage.setItem("xintraclassic", true);
            localStorage.removeItem("xintraregular");
            localStorage.removeItem("xintramodern");
        });
    }
    /* Classic page style End */

    /* modern page style Start */
    if (modern) {
        modern.addEventListener('click', () => {
            html.setAttribute('data-page-style', 'modern');
            localStorage.setItem("xintramodern", true);
            localStorage.removeItem("xintraregular");
            localStorage.removeItem("xintraclassic");
        });
    }
    /* modern page style End */

    /* Header-Position Styles Start */
    if (fixedHeaderBtn) {
        fixedHeaderBtn.addEventListener('click', () => {
            html.setAttribute('data-header-position', 'fixed');
            localStorage.setItem("xintraheaderfixed", true);
            localStorage.removeItem("xintraheaderscrollable");
        });
    }

    if (scrollHeaderBtn) {
        scrollHeaderBtn.addEventListener('click', () => {
            html.setAttribute('data-header-position', 'scrollable');
            localStorage.setItem("xintraheaderscrollable", true);
            localStorage.removeItem("xintraheaderfixed");
        });
    }
    /* Header-Position Styles End */

    /* Menu-Position Styles Start */
    if (fixedMenuBtn) {
        fixedMenuBtn.addEventListener('click', () => {
            html.setAttribute('data-menu-position', 'fixed');
            localStorage.setItem("xintramenufixed", true);
            localStorage.removeItem("xintramenuscrollable");
        });
    }

    if (scrollMenuBtn) {
        scrollMenuBtn.addEventListener('click', () => {
            html.setAttribute('data-menu-position', 'scrollable');
            localStorage.setItem("xintramenuscrollable", true);
            localStorage.removeItem("xintramenufixed");
        });
    }
    /* Menu-Position Styles End */

    /* Default Sidemenu Start */
    if (defaultBtn) {
        defaultBtn.addEventListener('click', () => {
            html.setAttribute('data-vertical-style', 'default');
            html.setAttribute('data-nav-layout', 'vertical');
            localStorage.removeItem('xintranavstyles');
            toggleSidemenu();
            localStorage.removeItem("xintraverticalstyles");
            document.querySelectorAll(".main-menu>li.open").forEach((ele) => {
                if (!ele.classList.contains('active')) {
                    ele.classList.remove('open')
                    if (ele.querySelector('ul')) ele.querySelector('ul').style.display = 'none'
                }
            })
        });
    }
    /* Default Sidemenu End */

    /* Closed Sidemenu Start */
    if (closedBtn) {
        closedBtn.addEventListener('click', () => {
            closedSidemenuFn();
            localStorage.setItem("xintraverticalstyles", 'closed');
            document.querySelectorAll(".main-menu>li.open").forEach((ele) => {
                if (!ele.classList.contains('active')) {
                    ele.classList.remove('open')
                    if (ele.querySelector('ul')) ele.querySelector('ul').style.display = 'none'
                }
            })
        });
    }
    /* Closed Sidemenu End */

    /* Hover Submenu Start */
    if (detachedBtn) {
        detachedBtn.addEventListener('click', () => {
            detachedFn();
            localStorage.setItem("xintraverticalstyles", 'detached');
        });
    }
    /* Hover Submenu End */

    /* Icon Text Sidemenu Start */
    if (iconTextBtn) {
        iconTextBtn.addEventListener('click', () => {
            iconTextFn();
            localStorage.setItem("xintraverticalstyles", 'icontext');
        });
    }
    /* Icon Text Sidemenu End */

    /* Icon Overlay Sidemenu Start */
    if (overlayBtn) {
        overlayBtn.addEventListener('click', () => {
            iconOverayFn();
            localStorage.setItem("xintraverticalstyles", 'overlay');
            document.querySelectorAll(".main-menu>li.open").forEach((ele) => {
                if (!ele.classList.contains('active')) {
                    ele.classList.remove('open')
                    if (ele.querySelector('ul')) ele.querySelector('ul').style.display = 'none'
                }
            })
        });
    }
    /* Icon Overlay Sidemenu End */

    /* doublemenu Sidemenu Start */
    if (doubleBtn) {
        doubleBtn.addEventListener('click', () => {
            doubletFn();
            localStorage.setItem("xintraverticalstyles", 'doublemenu');
        });
    }
    /* doublemenu Sidemenu End */

    /* Menu Click Sidemenu Start */
    if (menuClickBtn) {
        menuClickBtn.addEventListener('click', () => {
            html.removeAttribute('data-vertical-style');
            menuClickFn();
            localStorage.setItem("xintranavstyles", 'menu-click');
            localStorage.removeItem("xintraverticalstyles");
            document.querySelectorAll(".main-menu>li.open").forEach((ele) => {
                if (!ele.classList.contains('active')) {
                    ele.classList.remove('open')
                    if (ele.querySelector('ul')) ele.querySelector('ul').style.display = 'none'
                }
            })
            if (document.querySelector("html").getAttribute("data-nav-layout") == 'horizontal') {
                let mainMenu = document.querySelector(".main-menu");
                if (mainMenu) {
                    mainMenu.style.marginLeft = "0px"
                    mainMenu.style.marginRight = "0px"
                }
                ResizeMenu()
            }
        });
    }
    /* Menu Click Sidemenu End */

    /* Menu Hover Sidemenu Start */
    if (menuHoverBtn) {
        menuHoverBtn.addEventListener('click', () => {
            html.removeAttribute('data-vertical-style');
            menuhoverFn();
            localStorage.setItem("xintranavstyles", 'menu-hover');
            localStorage.removeItem("xintraverticalstyles");

            if (document.querySelector("html").getAttribute("data-nav-layout") == 'horizontal') {
                let mainMenu = document.querySelector(".main-menu");
                if (mainMenu) {
                    mainMenu.style.marginLeft = "0px"
                    mainMenu.style.marginRight = "0px"
                }
                ResizeMenu()
            }
        });
    }
    /* Menu Hover Sidemenu End */

    /* icon Click Sidemenu Start */
    if (iconClickBtn) {
        iconClickBtn.addEventListener('click', () => {
            html.removeAttribute('data-vertical-style');
            iconClickFn();
            localStorage.setItem("xintranavstyles", 'icon-click');
            localStorage.removeItem("xintraverticalstyles");

            if (document.querySelector("html").getAttribute("data-nav-layout") == 'horizontal') {
                let mainMenu = document.querySelector(".main-menu");
                if (mainMenu) {
                    mainMenu.style.marginLeft = "0px"
                    mainMenu.style.marginRight = "0px"
                }
                ResizeMenu()
                let slideLeft = document.querySelector("#slide-left");
                if (slideLeft) slideLeft.classList.add("d-none")
            }
            document.querySelectorAll(".main-menu>li.open").forEach((ele) => {
                if (!ele.classList.contains('active')) {
                    ele.classList.remove('open')
                    if (ele.querySelector('ul')) ele.querySelector('ul').style.display = 'none'
                }
            })
        });
    }
    /* icon Click Sidemenu End */

    /* icon hover Sidemenu Start */
    if (iconHoverBtn) {
        iconHoverBtn.addEventListener('click', () => {
            html.removeAttribute('data-vertical-style');
            iconHoverFn();
            localStorage.setItem("xintranavstyles", 'icon-hover');
            localStorage.removeItem("xintraverticalstyles");

            if (document.querySelector("html").getAttribute("data-nav-layout") == 'horizontal') {
                let mainMenu = document.querySelector(".main-menu");
                if (mainMenu) {
                    mainMenu.style.marginLeft = "0px"
                    mainMenu.style.marginRight = "0px"
                }
                ResizeMenu()
                let slideLeft = document.querySelector("#slide-left");
                if (slideLeft) slideLeft.classList.add("d-none")
            }
        });
    }
    /* icon hover Sidemenu End */

    /* Sidemenu start*/
    if (verticalBtn) {
        verticalBtn.addEventListener('click', () => {
            let mainContent = document.querySelector('.main-content');
            // local storage
            localStorage.removeItem("xintralayout");
            localStorage.setItem("xintraverticalstyles", 'default');
            verticalFn();
            setNavActive();
            if (mainContent) mainContent.removeEventListener('click', clearNavDropdown);

            //
            let mainMenu = document.querySelector(".main-menu");
            if (mainMenu) {
                mainMenu.style.marginLeft = "0px"
                mainMenu.style.marginRight = "0px"
            }

            document.querySelectorAll(".slide").forEach((element) => {
                if (
                    element.classList.contains("open") &&
                    !element.classList.contains("active")
                ) {
                    if (element.querySelector("ul")) element.querySelector("ul").style.display = "none";
                }
            });
        });
    }
    /* Sidemenu end */

    /* horizontal start*/
    if (horiBtn) {
        horiBtn.addEventListener('click', () => {
            let mainContent = document.querySelector('.main-content');
            html.removeAttribute('data-vertical-style');
            //    local storage
            localStorage.setItem("xintralayout", 'horizontal');
            localStorage.removeItem("xintraverticalstyles");

            horizontalClickFn();
            clearNavDropdown();
            if (mainContent) mainContent.addEventListener('click', clearNavDropdown);
        });
    }
    /* horizontal end*/

    /* rtl start */
    if (rtlBtn) {
        rtlBtn.addEventListener('click', () => {
            localStorage.setItem("xintrartl", true);
            localStorage.removeItem("xintraltr");
            rtlFn();
            if (document.querySelector(".noUi-target")) {
                console.log("working");
                document.querySelectorAll(".noUi-origin").forEach((e) => {
                    e.classList.add("transform-none");
                });
            }
        });
    }
    /* rtl end */

    /* ltr start */
    if (ltrBtn) {
        ltrBtn.addEventListener('click', () => {
            //    local storage
            localStorage.setItem("xintraltr", true);
            localStorage.removeItem("xintrartl");
            ltrFn();
            if (document.querySelector(".noUi-target")) {
                document.querySelectorAll(".noUi-origin").forEach((e) => {
                    e.classList.remove("transform-none");
                });
            }
        });
    }
    /* ltr end */

    // reset all start
    if (ResetAll) {
        ResetAll.addEventListener('click', () => {
            ResetAllFn();
            setNavActive();
            document.querySelector("html").setAttribute("data-menu-styles", "dark");
            document.querySelector("html").setAttribute("data-width", "fullwidth");
            let switcherMenuDark = document.querySelector('#switcher-menu-dark');
            if (switcherMenuDark) switcherMenuDark.checked = true;
            document.querySelectorAll(".slide").forEach((element) => {
                if (
                    element.classList.contains("open") &&
                    !element.classList.contains("active")
                ) {
                    if (element.querySelector("ul")) element.querySelector("ul").style.display = "none";
                }
            });
            if (document.querySelector(".noUi-target")) {
                console.log("working");
                document.querySelectorAll(".noUi-origin").forEach((e) => {
                    e.classList.add("transform-none");
                });
            }
        });
    }
    // reset all end

    /* loader start */
    if (loaderEnable) {
        loaderEnable.onclick = () => {
            document.querySelector("html").setAttribute("loader", "enable");
            localStorage.setItem("loaderEnable", "true")
        }
    }

    if (loaderDisable) {
        loaderDisable.onclick = () => {
            document.querySelector("html").setAttribute("loader", "disable");
            localStorage.setItem("loaderEnable", "false")
        }
    }
    /* loader end */
}

function ltrFn() {
    let html = document.querySelector('html')
    let styleEl = document.querySelector("#style");
    if (styleEl && !styleEl.href.includes('bootstrap.min.css')) {
        styleEl.setAttribute("href", "../assets/libs/bootstrap/css/bootstrap.min.css");
    }
    html.setAttribute("dir", "ltr");
    let switcherLtr = document.querySelector('#switcher-ltr');
    if (switcherLtr) switcherLtr.checked = true;
    checkOptions();
}

function rtlFn() {
    let html = document.querySelector('html');
    html.setAttribute("dir", "rtl");
    document.querySelector("#style")?.setAttribute("href", "../assets/libs/bootstrap/css/bootstrap.rtl.min.css");
    checkOptions();
}

function lightFn() {
    let html = document.querySelector('html');
    html.setAttribute('data-theme-mode', 'light');
    html.setAttribute('data-header-styles', 'light');
    html.setAttribute('data-menu-styles', 'dark');
    if (!localStorage.getItem('primaryRGB')) {
        html.setAttribute('style', '')
    }
    let el1 = document.querySelector('#switcher-light-theme'); if (el1) el1.checked = true;
    let el2 = document.querySelector('#switcher-menu-light'); if (el2) el2.checked = true;
    let el3 = document.querySelector('#switcher-header-light'); if (el3) el3.checked = true;
    localStorage.removeItem("xintradarktheme");
    localStorage.removeItem("xintrabgColor");
    localStorage.removeItem("xintraheaderbg");
    localStorage.removeItem("xintrabgwhite");
    localStorage.removeItem("xintramenubg");
    localStorage.removeItem("xintramenubg");
    checkOptions();
    html.style.removeProperty('--body-bg-rgb');
    html.style.removeProperty('--body-bg-rgb2');
    html.style.removeProperty("--light-rgb");
    html.style.removeProperty("--form-control-bg");
    html.style.removeProperty("--gray-3");
    html.style.removeProperty("--input-border");

    let bg4 = document.querySelector("#switcher-background4"); if (bg4) bg4.checked = false;
    let bg3 = document.querySelector("#switcher-background3"); if (bg3) bg3.checked = false;
    let bg2 = document.querySelector("#switcher-background2"); if (bg2) bg2.checked = false;
    let bg1 = document.querySelector("#switcher-background1"); if (bg1) bg1.checked = false;
    let bg0 = document.querySelector("#switcher-background"); if (bg0) bg0.checked = false;
    let menuDark = document.querySelector('#switcher-menu-dark'); if (menuDark) menuDark.checked = true;
    let headerLight = document.querySelector('#switcher-header-light'); if (headerLight) headerLight.checked = true;

}

function darkFn() {
    let html = document.querySelector('html');
    html.setAttribute('data-theme-mode', 'dark');
    html.setAttribute('data-header-styles', 'dark');
    html.setAttribute('data-menu-styles', 'dark');
    if (!localStorage.getItem('primaryRGB')) {
        html.setAttribute('style', '')
    }
    let menuDark = document.querySelector('#switcher-menu-dark'); if (menuDark) menuDark.checked = true;
    let headerDark = document.querySelector('#switcher-header-dark'); if (headerDark) headerDark.checked = true;
    document.querySelector('html').style.removeProperty('--body-bg-rgb');
    document.querySelector('html').style.removeProperty('--body-bg-rgb2');
    document.querySelector('html').style.removeProperty('--light-rgb');
    document.querySelector('html').style.removeProperty('--form-control-bg');
    document.querySelector('html').style.removeProperty('--gray-3');
    document.querySelector('html').style.removeProperty('--input-border');
    localStorage.setItem("xintradarktheme", true);
    localStorage.removeItem("xintralighttheme");
    localStorage.removeItem("bodyBgRGB");
    localStorage.removeItem("xintrabgColor");
    localStorage.removeItem("xintraheaderbg");
    localStorage.removeItem("xintrabgwhite");
    localStorage.removeItem("xintramenubg");
    checkOptions();

    let bg4 = document.querySelector("#switcher-background4"); if (bg4) bg4.checked = false;
    let bg3 = document.querySelector("#switcher-background3"); if (bg3) bg3.checked = false;
    let bg2 = document.querySelector("#switcher-background2"); if (bg2) bg2.checked = false;
    let bg1 = document.querySelector("#switcher-background1"); if (bg1) bg1.checked = false;
    let bg0 = document.querySelector("#switcher-background"); if (bg0) bg0.checked = false;
    let menuDark2 = document.querySelector('#switcher-menu-dark'); if (menuDark2) menuDark2.checked = true;
    let headerDark2 = document.querySelector('#switcher-header-dark'); if (headerDark2) headerDark2.checked = true;
}

function verticalFn() {
    let html = document.querySelector('html');
    html.setAttribute('data-nav-layout', 'vertical');
    html.setAttribute('data-vertical-style', 'overlay');
    html.removeAttribute('data-nav-style');
    localStorage.removeItem('xintranavstyles');
    html.removeAttribute('data-toggled');
    let el1 = document.querySelector('#switcher-vertical'); if (el1) el1.checked = true;
    let el2 = document.querySelector('#switcher-menu-click'); if (el2) el2.checked = false;
    let el3 = document.querySelector('#switcher-menu-hover'); if (el3) el3.checked = false;
    let el4 = document.querySelector('#switcher-icon-click'); if (el4) el4.checked = false;
    let el5 = document.querySelector('#switcher-icon-hover'); if (el5) el5.checked = false;
    checkOptions();
}

function horizontalClickFn() {
    let el1 = document.querySelector('#switcher-horizontal'); if (el1) el1.checked = true;
    let el2 = document.querySelector('#switcher-menu-click'); if (el2) el2.checked = true;
    let html = document.querySelector('html');
    html.setAttribute('data-nav-layout', 'horizontal');
    html.removeAttribute('data-vertical-style');
    if (!html.getAttribute('data-nav-style')) {
        html.setAttribute('data-nav-style', 'menu-click');
    }
    if (!localStorage.xintraMenu && !localStorage.bodylightRGB) {
        html.setAttribute("data-menu-styles", "dark")
        let menuDark = document.querySelector('#switcher-menu-dark'); if (menuDark) menuDark.checked = true;
        checkOptions();
    }
    checkOptions();
    checkHoriMenu();
}


function ResetAllFn() {
    let html = document.querySelector('html');
    let mainMenu = document.querySelector(".main-menu");
    if (localStorage.getItem("xintralayout") == "horizontal" && mainMenu) {
        mainMenu.style.display = "block"
    }
    checkOptions();

    // clearing localstorage
    localStorage.clear();

    // reseting to light
    lightFn();

    //To reset the light-rgb
    document.querySelector('html').removeAttribute("style")

    // clearing attibutes
    // removing header, menu, pageStyle & boxed
    html.removeAttribute('data-nav-style');
    html.removeAttribute('data-menu-position');
    html.removeAttribute('data-header-position');
    html.removeAttribute('data-page-style');

    // removing theme styles
    html.removeAttribute('data-bg-img');

    // clear primary & bg color
    html.style.removeProperty(`--primary-rgb`);
    html.style.removeProperty(`--body-bg-rgb`);

    // reseting to ltr
    ltrFn();

    // reseting to vertical
    verticalFn();
    if (mainContent) mainContent.removeEventListener('click', clearNavDropdown);

    // reseting page style
    let el1 = document.querySelector('#switcher-classic'); if (el1) el1.checked = false;
    let el2 = document.querySelector('#switcher-modern'); if (el2) el2.checked = false;
    let el3 = document.querySelector('#switcher-regular'); if (el3) el3.checked = true;

    // reseting layout width styles
    let el4 = document.querySelector('#switcher-full-width'); if (el4) el4.checked = true;
    let el5 = document.querySelector('#switcher-boxed'); if (el5) el5.checked = false;

    // reseting menu position styles
    let el6 = document.querySelector('#switcher-menu-fixed'); if (el6) el6.checked = true;
    let el7 = document.querySelector('#switcher-menu-scroll'); if (el7) el7.checked = false;

    // reseting header position styles
    let el8 = document.querySelector('#switcher-header-fixed'); if (el8) el8.checked = true;
    let el9 = document.querySelector('#switcher-header-scroll'); if (el9) el9.checked = false;

    // reseting sidemenu layout styles
    let el10 = document.querySelector('#switcher-default-menu'); if (el10) el10.checked = true;
    let el11 = document.querySelector('#switcher-closed-menu'); if (el11) el11.checked = false;
    let el12 = document.querySelector('#switcher-icontext-menu'); if (el12) el12.checked = false;
    let el13 = document.querySelector('#switcher-icon-overlay'); if (el13) el13.checked = false;
    let el14 = document.querySelector('#switcher-detached'); if (el14) el14.checked = false;
    let el15 = document.querySelector('#switcher-double-menu'); if (el15) el15.checked = false;

    // resetting theme primary
    let p0 = document.querySelector("#switcher-primary"); if (p0) p0.checked = false;
    let p1 = document.querySelector("#switcher-primary1"); if (p1) p1.checked = false;
    let p2 = document.querySelector("#switcher-primary2"); if (p2) p2.checked = false;
    let p3 = document.querySelector("#switcher-primary3"); if (p3) p3.checked = false;
    let p4 = document.querySelector("#switcher-primary4"); if (p4) p4.checked = false;

    // resetting theme background
    let bg0 = document.querySelector("#switcher-background"); if (bg0) bg0.checked = false;
    let bg1 = document.querySelector("#switcher-background1"); if (bg1) bg1.checked = false;
    let bg2 = document.querySelector("#switcher-background2"); if (bg2) bg2.checked = false;
    let bg3 = document.querySelector("#switcher-background3"); if (bg3) bg3.checked = false;
    let bg4 = document.querySelector("#switcher-background4"); if (bg4) bg4.checked = false;

    // to reset horizontal menu scroll
    if (mainMenu) {
        mainMenu.style.marginLeft = "0px"
        mainMenu.style.marginRight = "0px"
    }

    setTimeout(() => {
        let activeEl = document.querySelector(".child3 .side-menu__item.active");
        if (typeof element !== 'undefined' && element && activeEl) {
            let slideMenu = element.closest('ul.slide-menu');
            if (slideMenu) {
                slideMenu.style.display = "block"
                let slideSub = slideMenu.closest('li.slide.has-sub');
                if (slideSub) {
                    slideSub.classList.add('open')
                    let sideMenuItem = slideSub.querySelector('.side-menu__item');
                    if (sideMenuItem) sideMenuItem.classList.add('active')
                    let child2Active = slideSub.querySelector('.child2 .has-sub.active');
                    if (child2Active) child2Active.classList.add("open")
                }
            }
        }
    }, 100);
}

function checkOptions() {
    // Helper function to safely set checked property
    function setChecked(selector, value) {
        let el = document.querySelector(selector);
        if (el) el.checked = value;
    }

    // dark
    if (localStorage.getItem('xintradarktheme')) {
        setChecked('#switcher-dark-theme', true);
    }

    // horizontal
    if (localStorage.getItem('xintralayout') === "horizontal") {
        setChecked('#switcher-horizontal', true);
        setChecked('#switcher-menu-click', true);
    }
    else {
        setChecked('#switcher-vertical', true);
    }

    //RTL
    if (localStorage.getItem('xintrartl')) {
        setChecked('#switcher-rtl', true);
    }
    else {
        setChecked('#switcher-ltr', true);
    }

    // light header
    if (localStorage.getItem('xintraHeader') === "light") {
        setChecked('#switcher-header-light', true);
    }

    // color header
    if (localStorage.getItem('xintraHeader') === "color") {
        setChecked('#switcher-header-primary', true);
    }

    // gradient header
    if (localStorage.getItem('xintraHeader') === "gradient") {
        setChecked('#switcher-header-gradient', true);
    }

    // dark header
    if (localStorage.getItem('xintraHeader') === "dark") {
        setChecked('#switcher-header-dark', true);
    }
    // transparent header
    if (localStorage.getItem('xintraHeader') === "transparent") {
        setChecked('#switcher-header-transparent', true);
    }

    // light menu
    if (localStorage.getItem('xintraMenu') === 'light') {
        setChecked('#switcher-menu-light', true);
    }

    // color menu
    if (localStorage.getItem('xintraMenu') === 'color') {
        setChecked('#switcher-menu-primary', true);
    }

    // gradient menu
    if (localStorage.getItem('xintraMenu') === 'gradient') {
        setChecked('#switcher-menu-gradient', true);
    }

    // dark menu
    if (localStorage.getItem('xintraMenu') === 'dark') {
        setChecked('#switcher-menu-dark', true);
    }
    // transparent menu
    if (localStorage.getItem('xintraMenu') === 'transparent') {
        setChecked('#switcher-menu-transparent', true);
    }

    //full width
    if (localStorage.getItem('xintrafullwidth')) {
        setChecked('#switcher-full-width', true);
    }

    //boxed
    if (localStorage.getItem('xintraboxed')) {
        setChecked('#switcher-boxed', true);
    }

    //scrollable
    if (localStorage.getItem('xintraheaderscrollable')) {
        setChecked('#switcher-header-scroll', true);
    }
    if (localStorage.getItem('xintramenuscrollable')) {
        setChecked('#switcher-menu-scroll', true);
    }

    //fixed
    if (localStorage.getItem('xintraheaderfixed')) {
        setChecked('#switcher-header-fixed', true);
    }
    if (localStorage.getItem('xintramenufixed')) {
        setChecked('#switcher-menu-fixed', true);
    }

    //classic
    if (localStorage.getItem('xintraclassic')) {
        setChecked('#switcher-classic', true);
    }

    //modern
    if (localStorage.getItem('xintramodern')) {
        setChecked('#switcher-modern', true);
    }

    // sidemenu layout style
    if (localStorage.xintraverticalstyles) {
        let verticalStyles = localStorage.getItem('xintraverticalstyles');
        switch (verticalStyles) {
            case 'default':
                setChecked('#switcher-default-menu', true);
                break;
            case 'closed':
                setChecked('#switcher-closed-menu', true);
                break;
            case 'icontext':
                setChecked('#switcher-icontext-menu', true);
                break;
            case 'overlay':
                setChecked('#switcher-icon-overlay', true);
                break;
            case 'detached':
                setChecked('#switcher-detached', true);
                break;
            case 'doublemenu':
                setChecked('#switcher-double-menu', true);
                break;
            default:
                setChecked('#switcher-default-menu', true);
                break;
        }
    }
    // navigation menu style
    if (localStorage.xintranavstyles) {
        let navStyles = localStorage.getItem('xintranavstyles');
        switch (navStyles) {
            case 'menu-click':
                setChecked('#switcher-menu-click', true);
                break;
            case 'menu-hover':
                setChecked('#switcher-menu-hover', true);
                break;
            case 'icon-click':
                setChecked('#switcher-icon-click', true);
                break;
            case 'icon-hover':
                setChecked('#switcher-icon-hover', true);
                break;
        }
    }

    // loader
    if (localStorage.loaderEnable != "true") {
        setChecked("#switcher-loader-disable", true);
    }
}

function localStorageBackup2() {
    // Helper function to safely set checked property
    function setChecked(selector, value) {
        let el = document.querySelector(selector);
        if (el) el.checked = value;
    }

    if (localStorage.bodyBgRGB || localStorage.bodylightRGB) {
        setChecked('#switcher-dark-theme', true);
        setChecked('#switcher-menu-dark', true);
        setChecked('#switcher-header-dark', true);
    }

    if (localStorage.bodyBgRGB && localStorage.bodylightRGB) {
        if (localStorage.bodyBgRGB == "49, 63, 141") {
            setChecked("#switcher-background", true);
        }
        if (localStorage.bodyBgRGB == "46, 94, 184") {
            setChecked("#switcher-background1", true);
        }
        if (localStorage.bodyBgRGB == "23, 74, 105") {
            setChecked("#switcher-background2", true);
        }
        if (localStorage.bodyBgRGB == "34, 120, 174") {
            setChecked("#switcher-background3", true);
        }
        if (localStorage.bodyBgRGB == "12, 23, 91") {
            setChecked("#switcher-background4", true);
        }
    }

    if (localStorage.primaryRGB) {
        if (localStorage.primaryRGB == "106, 91, 204") {
            setChecked("#switcher-primary", true);
        }
        if (localStorage.primaryRGB == "100, 149, 237") {
            setChecked("#switcher-primary1", true);
        }
        if (localStorage.primaryRGB == "0, 123, 167") {
            setChecked("#switcher-primary2", true);
        }
        if (localStorage.primaryRGB == "10, 180, 255") {
            setChecked("#switcher-primary3", true);
        }
        if (localStorage.primaryRGB == "46, 81, 145") {
            setChecked("#switcher-primary4", true);
        }
    }

    if (localStorage.loaderEnable == "true") {
        setChecked("#switcher-loader-enable", true);
    }
}



